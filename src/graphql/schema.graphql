type Query {
    hello: String!
    product(id: ID!): Product
    products: [Product!]!
    category(id: ID!): Category
    categories: [Category!]!
}

type Product {
    id: ID!
    name: String!
    price: Float!
    description: String!
    image: String!
    createdAt: String!
    options: String!
    categoryId: ID!
    category: Category!
}

type Category {
    id: ID!
    name: String!
    image: String!
    products: [Product!]
}

type Mutation {
    login(email: EmailAddress!, password: String!): AuthResponse
    addProduct(dto: CreateProductInput!): Product
    addCategory(dto: CreateCategoryInput!): Category
    updatedProduct(id: ID!, dto: UpdatedProductInput!): Product
    deletedProduct(id: ID!): ID
}

type AuthResponse {
    access_token: String!
    user: User!
}

type User {
    id: ID!
    email: EmailAddress!
    role: String!
    createdAt: String!
}

# Un input es un DTO -> Data Transfer Objects -> Mutations
input CreateProductInput {
    name: String!,
    price: Int!,
    description: String!,
    image: String!,
    categoryId: ID!
}

input CreateCategoryInput {
    name: categoryRegex!
    image: URL!
}

input UpdatedProductInput {
    name: String,
    price: Int,
    description: String,
    image: String,
    categoryId: ID
}

scalar categoryRegex #definiendo nuevo schema